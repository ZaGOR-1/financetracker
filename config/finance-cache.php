<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Cache TTL (Time To Live) Settings
    |--------------------------------------------------------------------------
    |
    | Налаштування часу життя кешу для різних типів даних (у хвилинах).
    | Ці значення можна перевизначити через .env файл.
    |
    */

    'ttl' => [
        // Статистика - оновлюється часто
        'stats' => env('CACHE_TTL_STATS', 5),
        
        // Транзакції - середня частота оновлення
        'transactions' => env('CACHE_TTL_TRANSACTIONS', 10),
        
        // Категорії - змінюються рідко
        'categories' => env('CACHE_TTL_CATEGORIES', 60),
        
        // Бюджети - середня частота оновлення
        'budgets' => env('CACHE_TTL_BUDGETS', 15),
        
        // Курси валют - оновлюються щодня
        'currency' => env('CACHE_TTL_CURRENCY', 1440), // 24 години
        
        // Дані користувача - оновлюються рідко
        'user' => env('CACHE_TTL_USER', 30),
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Prefix
    |--------------------------------------------------------------------------
    |
    | Префікс для всіх ключів кешу Finance Tracker.
    | Допомагає уникнути конфліктів з іншими додатками.
    |
    */

    'prefix' => env('CACHE_PREFIX', 'finance_tracker'),

    /*
    |--------------------------------------------------------------------------
    | Cache Strategy
    |--------------------------------------------------------------------------
    |
    | Стратегія кешування:
    | - 'aggressive' - довгі TTL, більше кешування (для production)
    | - 'moderate' - збалансовані TTL (за замовчуванням)
    | - 'minimal' - короткі TTL, менше кешування (для development)
    |
    */

    'strategy' => env('CACHE_STRATEGY', 'moderate'),

    /*
    |--------------------------------------------------------------------------
    | Cache Multipliers by Strategy
    |--------------------------------------------------------------------------
    |
    | Множники для TTL залежно від стратегії
    |
    */

    'multipliers' => [
        'aggressive' => 2.0,  // Подвоює TTL
        'moderate' => 1.0,    // Стандартні TTL
        'minimal' => 0.5,     // Зменшує TTL вдвічі
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Warming
    |--------------------------------------------------------------------------
    |
    | Автоматичне прогрівання кешу при старті додатку або після очищення.
    | Рекомендовано для production середовищ.
    |
    */

    'warming' => [
        'enabled' => env('CACHE_WARMING_ENABLED', false),
        
        // Типи даних для прогрівання
        'types' => [
            'categories',
            'currency',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Monitoring
    |--------------------------------------------------------------------------
    |
    | Моніторинг ефективності кешування
    |
    */

    'monitoring' => [
        'enabled' => env('CACHE_MONITORING_ENABLED', true),
        
        // Логувати пропуски кешу (cache misses)
        'log_misses' => env('CACHE_LOG_MISSES', false),
        
        // Логувати повільні запити
        'log_slow_queries' => env('CACHE_LOG_SLOW_QUERIES', true),
        
        // Поріг для повільних запитів (мс)
        'slow_query_threshold' => env('CACHE_SLOW_QUERY_THRESHOLD', 100),
    ],
];
